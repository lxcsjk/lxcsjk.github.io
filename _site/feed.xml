<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>YoRuo:æƒ³å˜å¾—æ›´å¥½</title>
    <description>æ¬¢è¿æ¥åˆ°æˆ‘çš„Blog~</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Fri, 13 Jan 2017 13:58:45 +0800</pubDate>
    <lastBuildDate>Fri, 13 Jan 2017 13:58:45 +0800</lastBuildDate>
    <generator>Jekyll v3.3.1</generator>
    
      <item>
        <title>2017</title>
        <description>&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;2017çš„ç›®æ ‡~~&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;16å¹´çš„æœ‰å‡ ä¸ªè¿˜æ˜¯æ²¡å®Œæˆï¼Œç‰¹åˆ«æ˜¯ä½“é‡ï¼ï¼ï¼ 166äº† å¦ˆæƒ¹ã€‚ æƒ³å¤§ä¸€æˆ‘æ‰120. ğŸ˜‰ğŸ˜‰ğŸ˜‰&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;ä»Šå¹´ï¼Œæœ¬å‘½å¹´ã€‚ğŸ˜¢ğŸ˜¢ğŸ˜¢&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Workï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;iOSå¼€å‘ä¹Ÿæ¥è§¦äº†ä¸€æ®µæ—¶é—´ï¼Œè½¬çœ¼å¤§åŠå¹´ä¸¤ä¸ªappéƒ½ä¸Šäº†ï¼Œjavaæœ‰ç‚¹è’åºŸäº†ï¼Œjsä¹Ÿè¿›æ­¥äº†ã€‚æ‰€ä»¥åœ¨å¯’å‡æŠŠjavaçš„åŸºç¡€å¤ä¹ å¤ä¹ ï¼Œé¡ºä¾¿æŠŠé¡¹ç›®ä¸å®Œå–„çš„åœ°æ–¹æ”¹æ”¹ã€‚æ¯•ç«Ÿå¯’å‡åœ¨å®¶ä¹Ÿæ²¡æœ‰å•¥äº‹æƒ…ã€‚æ„Ÿè§‰JavaScriptçœŸæ˜¯ç¥å¥‡çš„è¯­è¨€ï¼Œæ…¢æ…¢ä½“ä¼šå…¶ä¸­çš„ç²¾é«“ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æåˆ°å·¥èµ„äº†ï¼Œ13kå§ï¼Œæ¯ä¸ªæœˆçš„æˆ¿è´·ä¹Ÿä¸å°‘ï¼Œæ„Ÿè§‰æ‹¿è¿™ä¸ªæ•°å­—ä¸éš¾ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å¥½å§ï¼Œé‚£æœ¬ä¹¦è¿˜åœ¨ç¡è§‰ï¼Œæ‰€ä»¥è¿˜æ˜¯å¾—å¥½å¥½çœ‹çœ‹ã€‚ï¼ˆä»¥åç»å¯¹ä¸ä¼šå†ä¹°å®ä½“ä¹¦æœ‰äº†iPadè¿˜æ˜¯PDFï¼Œç¯ä¿å¥åº·ï¼ï¼‰&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Life:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;å·²ç»çœ‹è¿‡äº†å‘¨è‘£çš„æ¼”å”±ä¼šï¼Œå¦‚æœ17å¹´æœ‰é—²é’±çš„è¯å»æ—…æ—…æ¸¸å§ã€‚å¾ˆä¹…æ²¡å‡ºå»èµ°èµ°äº†ã€‚ æš‚å®š  å¦é—¨ &amp;amp; äº‘å— &amp;amp; å†…è’™å¤&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ¢ä¸ªæˆ¿å­ä½ï¼Œç¦»åœ°é“è¿‘ç‚¹ï¼Œç§Ÿé‡‘å¯èƒ½è´µç‚¹ä½†æ˜¯è¦èˆ’æœå¾ˆå¤šï¼Œé€ƒç¦»æ¾æ±Ÿï¼Œæ€»æ„Ÿè§‰æœ‰ç‚¹ç‚¹è„ã€‚è¿˜æ˜¯æµ¦ä¸œå¹²å‡€èˆ’é€‚ã€‚å¯èƒ½å»çŒ´å­é‚£è¾¹å°åŒºæ‰¾ä¸ªæˆ¿å­ï¼Œç­‰çŒ´å­ç•™å­¦å›æ¥è¿˜å¯ä»¥è¹­è¹­é¥­ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;è¿˜æ˜¯ä½“é‡ä½“é‡ä½“é‡ã€‚ã€‚ è¯´ä¸‰é = = ï¼ˆPS:æˆ‘å¦¹è¯´å‡è‚¥ç­‰äºæ•´å®¹ï¼‰æ¢äº†æˆ¿å­å†åœ¨å’¸é±¼æ‰¾ä¸ªè½¬å¡çš„ï¼Œå»å¥å¥èº«ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
</description>
        <pubDate>Thu, 05 Jan 2017 20:00:03 +0800</pubDate>
        <link>http://localhost:4000/2017/01/2017/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/01/2017/</guid>
        
        <category>My</category>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>Invalid Bundle. iPad Multitasking support requires these orientations</title>
        <description>&lt;p&gt;å‰æ®µæ—¶é—´æŠŠappé€‚é…ä¸€ä¸‹iPadï¼Œå†æäº¤çš„æ—¶å€™å‡ºäº†ä¸€äº›é—®é¢˜&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ERROR ITMS-90474: â€œInvalid Bundle. iPad Multitasking support requires these orientations: â€˜UIInterfaceOrientationPortrait,UIInterfaceOrientationPortraitUpsideDown,UIInterfaceOrientationLandscapeLeft,UIInterfaceOrientationLandscapeRightâ€™. Found â€˜UIInterfaceOrientationPortrait,UIInterfaceOrientationLandscapeLeft,UIInterfaceOrientationLandscapeRightâ€™ in bundle â€œbundle_Nameâ€&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æŸ¥äº†ä¸€ä¸‹èµ„æ–™åŸæ¥æ˜¯ &lt;strong&gt;ios9 iPad çš„åˆ†å±é€‚é…&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;So~
&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161224-132228@2x.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å†æ¬¡æäº¤ä¸€ä¸‹ OKå•¦&lt;/p&gt;

&lt;hr /&gt;
</description>
        <pubDate>Thu, 22 Dec 2016 20:00:03 +0800</pubDate>
        <link>http://localhost:4000/2016/12/Invalid-Bundle.-iPad-Multitasking-support-requires-these-orientations/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/12/Invalid-Bundle.-iPad-Multitasking-support-requires-these-orientations/</guid>
        
        <category>iOS</category>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>PresentViewController åœ¨ iPad ä¸Šæ‰§è¡Œå¤±è´¥</title>
        <description>&lt;p&gt;åœ¨é€‰æ‹©å¤´åƒå›¾ç‰‡çš„æ—¶å€™ ä½¿ç”¨  &lt;code class=&quot;highlighter-rouge&quot;&gt;imagePickerController&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  [self presentViewController:imagePickerController animated:YES completion:^{
            
  }];
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;å¼‚å¸¸ä¿¡æ¯&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;2016-12-20 13:50:23.096416 Training[1963:904966] Warning: Attempt to present &amp;lt;UIImagePickerController: 0x14a9d0c00&amp;gt;  on &amp;lt;MySelfViewController: 0x149d2d480&amp;gt; which is already presenting (null)&lt;/p&gt;

  &lt;p&gt;2016-12-20 13:50:23.106841 Training[1963:904966] [Warning] &amp;lt;_UIPopoverBackgroundVisualEffectView 0x149dcbd40&amp;gt; is being asked to animate its opacity. This will cause the effect to appear broken until opacity returns to 1.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;googleäº†ä¸€ä¸‹ æ‰¾åˆ°äº†è§£å†³æ–¹æ³• &lt;a href=&quot;http://stackoverflow.com/questions/32380967/presentviewcontroller-animated-not-displaying-on-ipad&quot;&gt;presentviewcontroller-animated-not-displaying-on-ipad&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    dispatch_async(dispatch_get_main_queue(), ^ {
        [self presentViewController:imagePickerController animated:YES completion:^{
            
        }];
    });
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;ä½†æ˜¯è¿™æ˜¯ä¸ºå•¥å‘¢ åœ¨iPhoneä¸Šæ²¡é—®é¢˜ æ­ªæœä»æ˜¯è¿™æ ·è¯´çš„ &lt;a href=&quot;http://stackoverflow.com/questions/24854802/presenting-a-view-controller-modally-from-an-action-sheets-delegate-in-ios8-i/24854803#24854803&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The problem seems to come from Appleâ€™s switch to using UIAlertController internally to implement the functionality of alert views and action sheets. The issue is seen mostly on iPad and action sheets, because on iPad, action sheets are presented as a popover within a specified view, and what Apple does is travel the responder chain until it finds a view controller and calls presentViewController:animated:completion: with the internal UIAlertController. The problem is less obvious on iPhone and with alert views, because there Apple actually creates a separate window, an empty view controller and presents the internal UIAlertController on top of that, so it seems to not interfere with other presentation.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¤§æ¦‚æ„æ€æ˜¯è¿™æ ·çš„&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;presentViewController éœ€è¦æ‰¾åˆ°ä¸€ä¸ªè§†å›¾æ§åˆ¶å™¨ç„¶åæ‰§è¡Œï¼Œåœ¨iPhoneä¸Šï¼ŒAppleå®é™…ä¸Šåˆ›å»ºäº†ä¸€ä¸ªå•ç‹¬çš„çª—å£ï¼Œä¸€ä¸ªç©ºè§†å›¾æ§åˆ¶å™¨ï¼Œå¹¶åœ¨å…¶ä¸Šæ˜¾ç¤ºï¼Œå› æ­¤ä¸ä¼šå¹²æ‰°å…¶ä»–æ˜¾ç¤ºã€‚è€ŒiPadä¸Šé¢æ²¡æœ‰è¿™æ ·åšã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Tue, 20 Dec 2016 20:00:03 +0800</pubDate>
        <link>http://localhost:4000/2016/12/PresentViewController-%E5%9C%A8-iPad-%E4%B8%8A%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/12/PresentViewController-%E5%9C%A8-iPad-%E4%B8%8A%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5/</guid>
        
        <category>iOS</category>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>å½•éŸ³æ–‡ä»¶lameè½¬æ¢MP3ç›¸å…³é…ç½®</title>
        <description>&lt;p&gt;æ–‡ä»¶ä¸‹è½½æ•´ä¸ªåŠŸèƒ½å®Œæˆäº†ï¼Œé‚£ä¹ˆå¯¹åº”çš„æ–‡ä»¶ä¸Šä¼ ä¹Ÿè·‘ä¸äº†ã€‚So~ Look here~&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;ä¸šåŠ¡éœ€æ±‚æ˜¯å½•åˆ¶éŸ³é¢‘ç„¶åä¸Šä¼ åˆ°ä¸ƒç‰›å¹¶ä¸”Androidå¯ä»¥è¯»ã€‚&lt;/p&gt;

&lt;p&gt;ä¸å®‰å“æ²Ÿé€šäº†ä¸€ä¸‹ç»Ÿä¸€äº†mp3æ ¼å¼ï¼Œå¤§å°è´¨é‡éƒ½ä¸é”™ã€‚ç”±äº&lt;code class=&quot;highlighter-rouge&quot;&gt;AVAudioRecorder&lt;/code&gt;å½•éŸ³çš„æ ¼å¼ä¸º.cafæˆ–è€….wavè€Œä¸”å¾ˆå¤§éœ€è¦è¿›è¡Œè½¬æ¢å‹ç¼©ä¸ºMP3æ ¼å¼ã€‚è¿™é‡Œéœ€è¦ç”¨åˆ°ä¸‰æ–¹åº“ &lt;code class=&quot;highlighter-rouge&quot;&gt;lame&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨lameè½¬æ¢åéŸ³é¢‘çš„è´¨é‡å’Œ&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; _recorder = [[AVAudioRecorder alloc] initWithURL:_recordFilePath settings:setting error:NULL];
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;é‡Œçš„ &lt;strong&gt;&lt;em&gt;setting&lt;/em&gt;&lt;/strong&gt; æ¯æ¯ç›¸å…³ã€‚ æ‰€ä»¥æ•´ç†äº†ä¸¤ä¸ªé…ç½®ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘æŠŠè¿™ä¸¤ç§çš„é…ç½®å†™åœ¨äº†å·¥å…·ç±»æ‰€ä»¥ç›´æ¥è´´ä»£ç äº†~è¦ç”¨çš„è¯ç›´æ¥CVå¤§æ³•å°±å¯ä»¥ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://oh6uhie7j.bkt.clouddn.com/lame.zip&quot;&gt;lameä¸‰æ–¹åº“çš„èµ„æº&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;ul&gt;
  &lt;li&gt;è·å–è½¬æ¢æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+ (NSString *)getRecPathUrl{
    NSString *str = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject];
    
    NSString *recordDir = [str stringByAppendingPathComponent:@&quot;RecordCourse&quot;];
    
    return recordDir;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;è·å–æ—¶é—´æˆ³ç”¨äºæ–‡ä»¶çš„å‘½å&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+ (NSString *)getTimestamp{
    NSDate *nowDate = [NSDate date];
    double timestamp = (double)[nowDate timeIntervalSince1970]*1000;
    long nowTimestamp = [[NSNumber numberWithDouble:timestamp] longValue];
    NSString *timestampStr = [NSString stringWithFormat:@&quot;%ld&quot;,nowTimestamp];
    return timestampStr;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;PCMè½¬æ¢MP3é…ç½®&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+ (NSDictionary *)getAudioSettingWithPCM {
    NSMutableDictionary *dic = [NSMutableDictionary dictionary];
    //è®¾ç½®å½•éŸ³æ ¼å¼
    [dic setObject:@(kAudioFormatLinearPCM) forKey:AVFormatIDKey];
    //è®¾ç½®å½•éŸ³é‡‡æ ·ç‡ï¼Œ8000æ˜¯ç”µè¯é‡‡æ ·ç‡ï¼Œå¯¹äºä¸€èˆ¬å½•éŸ³å·²ç»å¤Ÿäº†
    [dic setObject:@(44100.0) forKey:AVSampleRateKey];
    //è®¾ç½®é€šé“,è¿™é‡Œé‡‡ç”¨åŒå£°é“
    [dic setObject:@(1) forKey:AVNumberOfChannelsKey];
    //æ¯ä¸ªé‡‡æ ·ç‚¹ä½æ•°,åˆ†ä¸º8ã€16ã€24ã€32
    [dic setObject:@(16) forKey:AVLinearPCMBitDepthKey];
    //æ˜¯å¦ä½¿ç”¨æµ®ç‚¹æ•°é‡‡æ ·
    [dic setObject:@(YES) forKey:AVLinearPCMIsFloatKey];
    //....å…¶ä»–è®¾ç½®ç­‰
    return dic;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;CAFè½¬æ¢MP3é…ç½®&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+ (NSDictionary *)getAudioSettingWithCAF {
    NSDictionary *setting = [NSDictionary dictionaryWithObjectsAndKeys:
                             [NSNumber numberWithInt:AVAudioQualityMin],
                             AVEncoderAudioQualityKey,
                             [NSNumber numberWithInt:16],
                             AVEncoderBitRateKey,
                             [NSNumber numberWithInt:2],
                             AVNumberOfChannelsKey,
                             [NSNumber numberWithFloat:44100.0],
                             AVSampleRateKey,
                             nil];

    return setting;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;PCMè½¬æ¢MP3çš„lameæ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+ (NSString *)audioPCMtoMP3:(NSString *)wavPath {
    NSString *cafFilePath = wavPath;
    
    NSString *mp3FilePath = [NSString stringWithFormat:@&quot;%@.mp3&quot;,[NSString stringWithFormat:@&quot;%@%@&quot;,[cafFilePath substringToIndex:cafFilePath.length - 4],[self getTimestamp]]];
    
    NSFileManager* fileManager = [NSFileManager defaultManager];
    if([fileManager removeItemAtPath:mp3FilePath error:nil]){
        NSLog(@&quot;åˆ é™¤åŸMP3æ–‡ä»¶&quot;);
    }
    @try {
        int read, write;
        FILE *pcm = fopen([cafFilePath cStringUsingEncoding:1], &quot;rb&quot;);  //source è¢«è½¬æ¢çš„éŸ³é¢‘æ–‡ä»¶ä½ç½®
        fseek(pcm, 4*1024, SEEK_CUR);                                   //skip file header
        FILE *mp3 = fopen([mp3FilePath cStringUsingEncoding:1], &quot;wb&quot;);  //output è¾“å‡ºç”Ÿæˆçš„Mp3æ–‡ä»¶ä½ç½®
        const int PCM_SIZE = 8192;
        const int MP3_SIZE = 8192;
        short int pcm_buffer[PCM_SIZE*2];
        unsigned char mp3_buffer[MP3_SIZE];
        
        lame_t lame = lame_init();
        lame_set_in_samplerate(lame, 22050.0);
        lame_set_VBR(lame, vbr_default);
        lame_init_params(lame);
        
        do {
            read = fread(pcm_buffer, 2*sizeof(short int), PCM_SIZE, pcm);
            if (read == 0)
                write = lame_encode_flush(lame, mp3_buffer, MP3_SIZE);
            else
                write = lame_encode_buffer_interleaved(lame, pcm_buffer, read, mp3_buffer, MP3_SIZE);
            
            fwrite(mp3_buffer, write, 1, mp3);
            
        } while (read != 0);
        
        lame_close(lame);
        fclose(mp3);
        fclose(pcm);
    }
    @catch (NSException *exception) {
        NSLog(@&quot;%@&quot;,[exception description]);
    }
    @finally {
        return mp3FilePath;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;CAFè½¬æ¢MP3çš„lameæ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+ (NSString *)audioCAFtoMP3:(NSString *)wavPath {
    
    NSString *cafFilePath = wavPath;
    
    NSString *mp3FilePath = [NSString stringWithFormat:@&quot;%@.mp3&quot;,[NSString stringWithFormat:@&quot;%@%@&quot;,[cafFilePath substringToIndex:cafFilePath.length - 4],[self getTimestamp]]];
    
    @try {
        int read, write;
        
        FILE *pcm = fopen([cafFilePath cStringUsingEncoding:1], &quot;rb&quot;);  //source è¢«è½¬æ¢çš„éŸ³é¢‘æ–‡ä»¶ä½ç½®
        fseek(pcm, 4*1024, SEEK_CUR);                                   //skip file header
        FILE *mp3 = fopen([mp3FilePath cStringUsingEncoding:1], &quot;wb&quot;);  //output è¾“å‡ºç”Ÿæˆçš„Mp3æ–‡ä»¶ä½ç½®
        
        const int PCM_SIZE = 8192;
        const int MP3_SIZE = 8192;
        short int pcm_buffer[PCM_SIZE*2];
        unsigned char mp3_buffer[MP3_SIZE];
        
        lame_t lame = lame_init();
        lame_set_num_channels(lame,1);//è®¾ç½®1ä¸ºå•é€šé“ï¼Œé»˜è®¤ä¸º2åŒé€šé“
        lame_set_in_samplerate(lame, 44100.0);
        lame_set_VBR(lame, vbr_default);
        
        lame_set_brate(lame,8);
        
        lame_set_mode(lame,3);
        
        lame_set_quality(lame,2);
        
        lame_init_params(lame);
        
        do {
            read = fread(pcm_buffer, 2*sizeof(short int), PCM_SIZE, pcm);
            if (read == 0)
                write = lame_encode_flush(lame, mp3_buffer, MP3_SIZE);
            else
                write = lame_encode_buffer_interleaved(lame, pcm_buffer, read, mp3_buffer, MP3_SIZE);
            
            fwrite(mp3_buffer, write, 1, mp3);
            
        } while (read != 0);
        
        lame_close(lame);
        fclose(mp3);
        fclose(pcm);
    }
    @catch (NSException *exception) {
        NSLog(@&quot;%@&quot;,[exception description]);
    }
    @finally {
        return mp3FilePath;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸¤ç§è´¨é‡å¤§å°ä¸é”™éƒ½å¯ä»¥ä½¿ç”¨ğŸ˜ğŸ˜&lt;/p&gt;
</description>
        <pubDate>Fri, 09 Dec 2016 20:00:03 +0800</pubDate>
        <link>http://localhost:4000/2016/12/%E5%BD%95%E9%9F%B3%E6%96%87%E4%BB%B6lame%E8%BD%AC%E6%8D%A2MP3%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/12/%E5%BD%95%E9%9F%B3%E6%96%87%E4%BB%B6lame%E8%BD%AC%E6%8D%A2MP3%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/</guid>
        
        <category>lame</category>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>Macæ›´æ–°10.12åå…³æœºå¾ˆæ…¢çš„é—®é¢˜</title>
        <description>&lt;p&gt;ä¹‹å‰ç”µè„‘å‡çº§äº†MacOS Sierraï¼Œç„¶åå…³æœºéƒ½ç‰¹åˆ«æ…¢ï¼Œèµ·ç è¦20åˆ†é’Ÿã€‚é—®äº†å‘¨å›´æœ‹å‹æœ‰çš„å‡ºç°æœ‰çš„æ²¡æœ‰ã€‚ä»Šå¤©æ‰çŸ¥é“æ˜¯å› ä¸ºæœ¬åœ°MySQLæœåŠ¡çš„é—®é¢˜ã€‚Soé‚£å°±é‡æ–°è£…ä¸€ä¸ªå§ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;macmysql-&quot;&gt;ä¸‹è½½æœ€æ–°macç‰ˆæœ¬çš„mysql åœ°å€&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://dev.mysql.com/downloads/file/?id=466265&quot;&gt;mysql-5.7.16-osx10.11-x86_64.dmg&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;mysql&quot;&gt;å¸è½½MySQL&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo rm /usr/local/mysql
sudo rm -rf /usr/local/mysql*
sudo rm -rf /Library/StartupItems/MySQLCOM
sudo rm -rf /Library/PreferencePanes/My*
vim /etc/hostconfig Â (and removed the line MYSQLCOM=-YES-)
rm -rf ~/Library/PreferencePanes/My*
sudo rm -rf /Library/Receipts/mysql*
sudo rm -rf /Library/Receipts/MySQL*
sudo rm -rf /var/db/receipts/com.mysql.*
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¿™ä¹ˆå¤šrm -rf ä¸æ•¢å†™ä¸ªè„šæœ¬ç›´æ¥è·‘ã€‚ã€‚ã€‚ ğŸ˜‚ğŸ˜‚ğŸ˜‚ è™½ç„¶æœºå™¨æ¯”æˆ‘é è°±&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;mysql-1&quot;&gt;å®‰è£…MySQL&lt;/h3&gt;

&lt;p&gt;ç›´æ¥å®‰è£…dmgæ–‡ä»¶å°±OKäº†ã€‚&lt;/p&gt;

&lt;p&gt;ä¼šå‡ºä¸€ä¸ªæç¤ºï¼Œrootçš„å¯†ç ã€‚è¿™ä¹‹åéœ€è¦æ”¹ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;2016-12-03T05:27:15.648601Z 1 [Note] A temporary password is generated for root@localhost: 
pju%C!a?t4ek
If you lose this password, please consult the section How to Reset the Root Password in the MySQL reference manual.
You must reset your password using ALTER USER statement before executing this statement.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç”µè„‘ä¸Šæœ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;MySQL Workbench&lt;/code&gt; æ‰€ä»¥å°±ç›´æ¥æ”¹äº† æ²¡ç”¨å‘½ä»¤è¡Œäº†ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åNavicatè¿ä¸Šäº† å°±OKäº†ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;è®°å¾—å¸è½½ä¹‹å‰ä¿å­˜ä¸€ä¸‹sqlè„šæœ¬æ¥æ¢å¤æ•°æ®&lt;/strong&gt; ğŸ˜‚ğŸ˜‚ğŸ˜‚&lt;/p&gt;

</description>
        <pubDate>Mon, 05 Dec 2016 20:00:03 +0800</pubDate>
        <link>http://localhost:4000/2016/12/Mac%E6%9B%B4%E6%96%B010.12%E5%90%8E%E5%85%B3%E6%9C%BA%E5%BE%88%E6%85%A2%E7%9A%84%E9%97%AE%E9%A2%98/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/12/Mac%E6%9B%B4%E6%96%B010.12%E5%90%8E%E5%85%B3%E6%9C%BA%E5%BE%88%E6%85%A2%E7%9A%84%E9%97%AE%E9%A2%98/</guid>
        
        <category>Mac</category>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>FMDB æ•´ç†æ€»ç»“</title>
        <description>&lt;p&gt;è¿™å‡ å¤©åœ¨å†™æ–‡ä»¶ä¸‹è½½ï¼Œæ–­ç‚¹ç»­ä¼ ï¼Œéœ€è¦ç”¨åˆ°FMDBè¿›è¡Œæ•°æ®çš„ç®¡ç†ï¼Œç­‰å†™å®Œä¹Ÿæ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;å…¶å®ä¹Ÿæ˜¯è¿™ä¸¤å¤©æ‰å­¦ä¹  &lt;code class=&quot;highlighter-rouge&quot;&gt;FMDB&lt;/code&gt;ï¼Œgoogleäº†ä¸€ä¸‹èµ„æ–™æœ‰å¾ˆå¤šï¼Œå°±å» github ä¸Šé¢å…ˆ &lt;a href=&quot;https://github.com/ccgus/fmdb&quot;&gt;Star&lt;/a&gt; ä¸€ä¸‹&lt;code class=&quot;highlighter-rouge&quot;&gt;FMDB&lt;/code&gt;ï¼Œå‘ç°ä»–&lt;code class=&quot;highlighter-rouge&quot;&gt;README.markdown&lt;/code&gt;å†™çš„å¾ˆè¯¦ç»†ã€‚ç„¶åä¹Ÿçœ‹äº†å”å·§å¤§ç‰›çš„&lt;a href=&quot;http://blog.devtang.com/2012/04/22/use-fmdb/&quot;&gt;æŠ€æœ¯åšå®¢&lt;/a&gt;ï¼Œå†™äº†&lt;a href=&quot;https://github.com/lxcsjk/FMDBDemo&quot;&gt;FMDBDemo&lt;/a&gt;ç©ç©ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section&quot;&gt;é›†æˆåˆ°é¡¹ç›®&lt;/h3&gt;

&lt;p&gt;é€šè¿‡ &lt;a href=&quot;https://cocoapods.org&quot;&gt;CocoaPods&lt;/a&gt; æ·»åŠ  &lt;code class=&quot;highlighter-rouge&quot;&gt;pod 'FMDB'&lt;/code&gt; ç„¶å &lt;code class=&quot;highlighter-rouge&quot;&gt;pod update --verbose --no-repo-update&lt;/code&gt; OK~&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-1&quot;&gt;åˆ›å»ºæ•°æ®åº“&lt;/h3&gt;

&lt;p&gt;å¯¼å…¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;libsqlite3.tbd&lt;/code&gt;  (&lt;code class=&quot;highlighter-rouge&quot;&gt;libsqlite3.0.tbd&lt;/code&gt; ä¹Ÿå¯ä»¥)
&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161203-223307@2x.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¼•å…¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;#import &quot;FMDB.h&quot;&lt;/code&gt;&lt;/p&gt;

&lt;h5 id=&quot;section-2&quot;&gt;åˆ›å»ºæ•°æ®åº“&lt;/h5&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    NSString *doc =[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES) lastObject];
    
    fileName = [doc stringByAppendingPathComponent:@&quot;downCourse.sqlite&quot;];
    
    DLog(@&quot;sqlæ–‡ä»¶è·¯å¾„ ï¼š %@&quot;,fileName);
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æˆ‘åˆ›å»ºåœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;Documents&lt;/code&gt;ç›®å½•ä¸‹&lt;/p&gt;

&lt;p&gt;å…³äºåˆ›å»ºæ•°æ®åº“ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;An &lt;code class=&quot;highlighter-rouge&quot;&gt;FMDatabase&lt;/code&gt; is created with a path to a SQLite database file. This path can be one of these three:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;ol&gt;
    &lt;li&gt;A file system path. The file does not have to exist on disk. If it does not exist, it is created for you.&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;ol&gt;
    &lt;li&gt;An empty string (@â€â€). An empty database is created at a temporary location. This database is deleted with the &lt;code class=&quot;highlighter-rouge&quot;&gt;FMDatabase&lt;/code&gt; connection is closed.&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;ol&gt;
    &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;NULL&lt;/code&gt;. An in-memory database is created. This database will be destroyed with the FMDatabase connection is closed.&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ„æ€å°±æ˜¯&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;å»ºç«‹æ•°æ®åº“åªéœ€è¦å¦‚ä¸‹ä¸€è¡Œå³å¯ , å½“è¯¥æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œfmdb ä¼šè‡ªå·±åˆ›å»ºä¸€ä¸ªã€‚å¦‚æœä½ ä¼ å…¥çš„å‚æ•°æ˜¯ç©ºä¸²ï¼š@â€â€ ï¼Œåˆ™ fmdb ä¼šåœ¨ä¸´æ—¶æ–‡ä»¶ç›®å½•ä¸‹åˆ›å»ºè¿™ä¸ªæ•°æ®åº“ï¼Œå¦‚æœä½ ä¼ å…¥çš„å‚æ•°æ˜¯ NULLï¼Œåˆ™å®ƒä¼šå»ºç«‹ä¸€ä¸ªåœ¨å†…å­˜ä¸­çš„æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-3&quot;&gt;æ‰“å¼€æ•°æ®åº“&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    FMDatabase *db = [FMDatabase databaseWithPath:fileName];
    if ([db open]){
    	// sql
    }
    [db close];
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å°±å¯ä»¥äº† æ‰§è¡Œå®Œ æ³¨æ„ä¸€å®šè¦ &lt;code class=&quot;highlighter-rouge&quot;&gt;[db close]&lt;/code&gt; å…³é—­æ•°æ®åº“&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-4&quot;&gt;åˆ›å»ºè¡¨&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-(void)createTable{
    //    NSFileManager * fileManager = [NSFileManager defaultManager];
    //    if ([fileManager fileExistsAtPath:fileName] == NO) {
    if (!isTableExist) {
        FMDatabase *db = [FMDatabase databaseWithPath:fileName];
        if ([db open]){
            //  åˆ›å»ºè¡¨
            BOOL result = [db executeUpdate:@&quot;CREATE TABLE 't_down_course' ('id' INTEGER PRIMARY KEY AUTOINCREMENT  NOT NULL , 'courseId' INTEGER, 'downPath' VARCHAR(255),'courseInfo' text)&quot;];
            if (result){
                DLog(@&quot;åˆ›å»ºè¡¨æˆåŠŸ&quot;);
                isTableExist = YES;
                [self showAlertWithMessage:@&quot;åˆ›å»ºè¡¨ --- æˆåŠŸ&quot; completion:nil];
            }else{
                [self showAlertWithMessage:@&quot;åˆ›å»ºè¡¨ --- å¤±è´¥&quot; completion:nil];
            }
            [db close];
        }else{
            [self showAlertWithMessage:@&quot;æ‰“å¼€æ•°æ®åº“ --- å¤±è´¥&quot; completion:nil];
        }
    }
    //    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;åˆ›å»ºåç§°ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;t_down_course&lt;/code&gt; çš„è¡¨&lt;/p&gt;

&lt;h5 id=&quot;section-5&quot;&gt;å¯¹è¡¨çš„å±æ€§æ€åˆ æ”¹&lt;/h5&gt;

&lt;p&gt;è¯­æ³•:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;BOOL result = [db executeUpdate:sql]
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;å¦‚éœ€åœ¨è¡¨ä¸­æ·»åŠ åˆ—ï¼Œè¯·ä½¿ç”¨ä¸‹åˆ—è¯­æ³•:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
 ALTER TABLE table_name ADD column_name datatype
&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;è¦åˆ é™¤è¡¨ä¸­çš„åˆ—ï¼Œè¯·ä½¿ç”¨ä¸‹åˆ—è¯­æ³•:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
 ALTER TABLE table_name DROP COLUMN column_name
&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ›´æ–°è¡¨ä¸­åˆ—çš„å±æ€§ï¼Œè¯·ä½¿ç”¨ä¸‹åˆ—è¯­æ³•:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
 ALTER TABLE table_name MODIFY COLUMN column_name datatype
&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-6&quot;&gt;æ’å…¥æ•°æ®&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-(void)addData{
    FMDatabase *db = [FMDatabase databaseWithPath:fileName];
    
    NSDictionary *dic = @{
                          @&quot;code&quot;: @0,
                          @&quot;msg&quot;: @&quot;success&quot;,
                          @&quot;data&quot;: @{
                              @&quot;course&quot;: @{
                                  @&quot;id&quot;: @24,
                                  @&quot;crowdId&quot;: @4,
                                  @&quot;ccode&quot;: @&quot;KIa8nNpVmc&quot;,
                                  @&quot;cname&quot;: @&quot;å¥å¥åº·åº·&quot;,
                                  @&quot;coverImg&quot;: @&quot;http://ocd2lp9uj.bkt.clouddn.com/FaceQ1445612150222.jpg&quot;,
                                  @&quot;description&quot;: @&quot;æ·‹æ¼“å°½è‡´&quot;,
                                  @&quot;speaker&quot;: @2,
                                  @&quot;speakerName&quot;: @&quot;åˆ˜æ¬£æˆ&quot;,
                                  @&quot;speakerHeadIcon&quot;: @&quot;http://ocd2lp9uj.bkt.clouddn.com/FaceQ1445612150222.jpg&quot;,
                                  @&quot;startTime&quot;: @&quot;2016-10-15 11:21:44&quot;,
                                  @&quot;endTime&quot;: @&quot;2016-10-15 11:26:50&quot;,
                                  @&quot;liveStatus&quot;: @&quot;2&quot;,
                                  @&quot;saveStatus&quot;: @&quot;2&quot;
                              }
                          }
                    };
    NSString *json = [self dictionaryToJson:dic];
    
    if ([db open]){
        NSString *insertSql = @&quot;insert into 't_down_course'(courseId,downPath,courseInfo) values(?,?,?)&quot;;
        BOOL result = [db executeUpdate:insertSql,[NSString stringWithFormat:@&quot;%d&quot;,count],fileName,json];
        if (result){
            DLog(@&quot;æ·»åŠ æ•°æ®æˆåŠŸ&quot;);
            [self showAlertWithMessage:@&quot;æ·»åŠ æ•°æ® --- æˆåŠŸ&quot; completion:nil];
        }else{
            DLog(@&quot;æ·»åŠ æ•°æ®å¤±è´¥&quot;);
            [self showAlertWithMessage:@&quot;æ·»åŠ æ•°æ® --- å¤±è´¥&quot; completion:nil];
        }
        count++;
        [db close];
    }else{
        [self showAlertWithMessage:@&quot;æ‰“å¼€æ•°æ®åº“ --- å¤±è´¥&quot; completion:nil];
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ’å…¥æ•°æ®ç±»å‹å¿…é¡»ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;NSObject&lt;/code&gt; çš„å­ç±»&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;åŸºæœ¬ç±»å‹éœ€è¦å°è£…ä¸ºå¯¹åº”çš„åŒ…è£…ç±»&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ”¯æŒå ä½ç¬¦ï¼Œåæ·»åŠ å†æ•°æ®&lt;/strong&gt;&lt;/p&gt;

&lt;h5 id=&quot;section-7&quot;&gt;æ’å…¥ä¹Ÿæ”¯æŒä»¥å­—å…¸çš„æ–¹å¼&lt;/h5&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;NSDictionary *arguments = @{@&quot;identifier&quot;: @(identifier), @&quot;name&quot;: name, @&quot;date&quot;: date, @&quot;comment&quot;: comment ?: [NSNull null]};
BOOL success = [db executeUpdate:@&quot;INSERT INTO authors (identifier, name, date, comment) VALUES (:identifier, :name, :date, :comment)&quot; withParameterDictionary:arguments];
if (!success) {
    NSLog(@&quot;error = %@&quot;, [db lastErrorMessage]);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h5 id=&quot;section-8&quot;&gt;æ”¯æŒå¯¹äº‹åŠ¡çš„æ§åˆ¶&lt;/h5&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[db open]

[db beginDeferredTransaction];//å¼€å¯äº‹åŠ¡

BOOL result = [db executeUpdate:insertSql,[NSString stringWithFormat:@&quot;%d&quot;,count],fileName,json];

if(result){
	[db commit];// æäº¤äº‹åŠ¡
}else{
	[db rollback];// å›æ»šäº‹åŠ¡
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-9&quot;&gt;æŸ¥è¯¢æ•°æ®&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-(void)selectData{
    FMDatabase *db = [FMDatabase databaseWithPath:fileName];
    if ([db open]){
        NSString *selectSql = @&quot;select * from t_down_course&quot;;
        FMResultSet * rs = [db executeQuery:selectSql];
        while ([rs next]) {
            int course = [rs intForColumn:@&quot;id&quot;];
            NSString * courseId = [rs stringForColumn:@&quot;courseId&quot;];
            NSString * downPath = [rs stringForColumn:@&quot;downPath&quot;];
            NSString * courseInfo = [rs stringForColumn:@&quot;courseInfo&quot;];

            DLog(@&quot;course id = %d, courseId = %@, downPath = %@  courseInfo = %@&quot;, course, courseId, downPath,courseInfo);
            
            NSMutableDictionary *dic = [self dictionaryWithJsonString:courseInfo];
            DLog(@&quot;%@&quot;,dic);
        }
        [db close];
    }else{
        [self showAlertWithMessage:@&quot;æ‰“å¼€æ•°æ®åº“ --- å¤±è´¥&quot; completion:nil];
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼šå³ä½¿æ“ä½œç»“æœåªæœ‰ä¸€è¡Œï¼Œä¹Ÿéœ€è¦å…ˆè°ƒç”¨ FMResultSet çš„ next æ–¹æ³•ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;FMDBæä¾›äº†å¤šä¸ªæ–¹æ³•è·å–ä¸åŒç±»å‹çš„æ•°æ®&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;intForColumn:&lt;/li&gt;
  &lt;li&gt;longForColumn:&lt;/li&gt;
  &lt;li&gt;longLongIntForColumn:&lt;/li&gt;
  &lt;li&gt;boolForColumn:&lt;/li&gt;
  &lt;li&gt;doubleForColumn:&lt;/li&gt;
  &lt;li&gt;stringForColumn:&lt;/li&gt;
  &lt;li&gt;dateForColumn:&lt;/li&gt;
  &lt;li&gt;dataForColumn:&lt;/li&gt;
  &lt;li&gt;dataNoCopyForColumn:&lt;/li&gt;
  &lt;li&gt;UTF8StringForColumnIndex:&lt;/li&gt;
  &lt;li&gt;objectForColumn:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;è¿™äº›æ–¹æ³•ä¹Ÿéƒ½æœ‰ä¸€ä¸ª{ç±»å‹} ForColumnIndex:,ç”¨äºæ£€ç´¢æ•°æ®åŸºäºåˆ—çš„ä½ç½®çš„ç»“æœ,è€Œä¸æ˜¯åˆ—çš„åç§°ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚  &lt;code class=&quot;highlighter-rouge&quot;&gt;[rs intForColumnIndex:0]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æ”¯æŒå¤šä¸ªè¯­å¥æ‰¹å¤„ç†&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;NSString *sql = @&quot;create table bulktest1 (id integer primary key autoincrement, x text);&quot;
                 &quot;create table bulktest2 (id integer primary key autoincrement, y text);&quot;
                 &quot;create table bulktest3 (id integer primary key autoincrement, z text);&quot;
                 &quot;insert into bulktest1 (x) values ('XXX');&quot;
                 &quot;insert into bulktest2 (y) values ('YYY');&quot;
                 &quot;insert into bulktest3 (z) values ('ZZZ');&quot;;

success = [db executeStatements:sql];

sql = @&quot;select count(*) as count from bulktest1;&quot;
       &quot;select count(*) as count from bulktest2;&quot;
       &quot;select count(*) as count from bulktest3;&quot;;

success = [self.db executeStatements:sql withResultBlock:^int(NSDictionary *dictionary) {
    NSInteger count = [dictionary[@&quot;count&quot;] integerValue];
    XCTAssertEqual(count, 1, @&quot;expected one record for dictionary %@&quot;, dictionary);
    return 0;
}];
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-10&quot;&gt;æ›´æ–°æ•°æ®&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-(void)updateData{
    FMDatabase *db = [FMDatabase databaseWithPath:fileName];
    if ([db open]){
        BOOL result = [db executeUpdate:@&quot;update t_down_course set downPath = 'æ›´æ–°çš„æ•°æ®' where id = 3&quot;];
        if (result){
            DLog(@&quot;æ›´æ–°æ•°æ®æˆåŠŸ&quot;);
            [self showAlertWithMessage:@&quot;æ›´æ–°æ•°æ® --- æˆåŠŸ&quot; completion:nil];
        }else{
            DLog(@&quot;æ›´æ–°æ•°æ®å¤±è´¥&quot;);
            [self showAlertWithMessage:@&quot;æ›´æ–°æ•°æ® --- å¤±è´¥&quot; completion:nil];
        }
        
        [db close];
    }else{
        [self showAlertWithMessage:@&quot;æ‰“å¼€æ•°æ®åº“ --- å¤±è´¥&quot; completion:nil];
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-11&quot;&gt;åˆ é™¤æ•°æ®&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-(void)deleteData{
    FMDatabase *db = [FMDatabase databaseWithPath:fileName];
    if ([db open]){
        BOOL result = [db executeUpdate:@&quot;delete from t_down_course where id = 2&quot;];
        if (result){
            DLog(@&quot;åˆ é™¤æ•°æ®æˆåŠŸ&quot;);
            [self showAlertWithMessage:@&quot;åˆ é™¤æ•°æ® --- æˆåŠŸ&quot; completion:nil];
        }else{
            DLog(@&quot;åˆ é™¤æ•°æ®å¤±è´¥&quot;);
            [self showAlertWithMessage:@&quot;åˆ é™¤æ•°æ® --- å¤±è´¥&quot; completion:nil];
        }
        
        [db close];
    }else{
        [self showAlertWithMessage:@&quot;æ‰“å¼€æ•°æ®åº“ --- å¤±è´¥&quot; completion:nil];
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-12&quot;&gt;åˆ é™¤è¡¨&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-(void)dropTable{
    FMDatabase *db = [FMDatabase databaseWithPath:fileName];
    if ([db open]){
        BOOL result = [db executeUpdate:@&quot;drop table t_down_course&quot;];
        if (result){
            DLog(@&quot;åˆ é™¤è¡¨æˆåŠŸ&quot;);
            isTableExist = NO;
            [self showAlertWithMessage:@&quot;åˆ é™¤è¡¨ --- æˆåŠŸ&quot; completion:nil];
        }else{
            DLog(@&quot;åˆ é™¤è¡¨å¤±è´¥&quot;);
            [self showAlertWithMessage:@&quot;åˆ é™¤è¡¨ --- å¤±è´¥&quot; completion:nil];
        }
        
        [db close];
    }else{
        [self showAlertWithMessage:@&quot;æ‰“å¼€æ•°æ®åº“ --- å¤±è´¥&quot; completion:nil];
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-13&quot;&gt;å¤šçº¿ç¨‹æ“ä½œ&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¦‚æœåº”ç”¨ä¸­ä½¿ç”¨äº†å¤šçº¿ç¨‹æ“ä½œæ•°æ®åº“ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨FMDatabaseQueueæ¥ä¿è¯çº¿ç¨‹å®‰å…¨äº†ã€‚ åº”ç”¨ä¸­ä¸å¯åœ¨å¤šä¸ªçº¿ç¨‹ä¸­å…±åŒä½¿ç”¨ä¸€ä¸ªFMDatabaseå¯¹è±¡æ“ä½œæ•°æ®åº“ï¼Œè¿™æ ·ä¼šå¼•èµ·æ•°æ®åº“æ•°æ®æ··ä¹±ã€‚ ä¸ºäº†å¤šçº¿ç¨‹æ“ä½œæ•°æ®åº“å®‰å…¨ï¼ŒFMDBä½¿ç”¨äº†FMDatabaseQueueï¼Œä½¿ç”¨FMDatabaseQueueå¾ˆç®€å•ï¼Œé¦–å…ˆç”¨ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶åœ°å€æ¥åˆä½¿åŒ–FMDatabaseQueueï¼Œç„¶åå°±å¯ä»¥å°†ä¸€ä¸ªé—­åŒ…(block)ä¼ å…¥inDatabaseæ–¹æ³•ä¸­ã€‚ åœ¨é—­åŒ…ä¸­æ“ä½œæ•°æ®åº“ï¼Œè€Œä¸ç›´æ¥å‚ä¸FMDatabaseçš„ç®¡ç†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h5 id=&quot;section-14&quot;&gt;åˆ›å»ºå•ä¾‹&lt;/h5&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;//
//  XCDatabaseHelper.h
//  Training
//
//  Created by LXC on 2016/12/3.
//  Copyright Â© 2016å¹´ LXC. All rights reserved.
//
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#import &amp;lt;Foundation/Foundation.h&amp;gt;
#import &quot;FMDB.h&quot;
&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;XCDatabaseHelper&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSObject&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XCDatabaseHelper&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sharedInstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;inDatabase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FMDatabase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;@end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;//
//  XCDatabaseHelper.m
//  Training
//
//  Created by LXC on 2016/12/3.
//  Copyright Â© 2016å¹´ LXC. All rights reserved.
//
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#import &quot;XCDatabaseHelper.h&quot;
&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;XCDatabaseHelper&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;FMDatabaseQueue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;super&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSSearchPathForDirectoriesInDomains&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSDocumentDirectory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSUserDomainMask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;YES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;lastObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbFilePath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringByAppendingPathComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;downCourse.sqlite&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;queue&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FMDatabaseQueue&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;databaseQueueWithPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbFilePath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XCDatabaseHelper&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sharedInstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dispatch_once_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pred&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;__strong&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_sharedObject&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dispatch_once&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pred&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;_sharedObject&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_sharedObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inDatabase&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FMDatabase&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;queue&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;inDatabase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FMDatabase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;@end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h5 id=&quot;section-15&quot;&gt;è°ƒç”¨&lt;/h5&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;        [[XCDatabaseHelper sharedInstance] inDatabase:^(FMDatabase *db) {
            BOOL result = [db executeUpdate:@&quot;update t_down_course set downloadStatus = '1' where courseId = ?&quot;,_course.ids];
            if (result){

            }
        }];
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¿™é‡Œå°±ä¸éœ€è¦ &lt;code class=&quot;highlighter-rouge&quot;&gt;close&lt;/code&gt;&lt;/p&gt;

&lt;h5 id=&quot;section-16&quot;&gt;æ³¨æ„&lt;/h5&gt;

&lt;blockquote&gt;
  &lt;p&gt;FMDatabaseQueueè™½ç„¶çœ‹ä¼¼ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå®é™…ä¸Šå®ƒæœ¬èº«å¹¶ä¸æ˜¯ï¼Œå®ƒé€šè¿‡å†…éƒ¨åˆ›å»ºä¸€ä¸ªSerialçš„dispatch_queue_tæ¥å¤„ç†é€šè¿‡inDatabaseå’ŒinTransactionä¼ å…¥çš„Blocksï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åœ¨ä¸»çº¿ç¨‹ï¼ˆæˆ–è€…åå°ï¼‰è°ƒç”¨inDatabaseæˆ–è€…inTransactionæ—¶ï¼Œä»£ç å®é™…ä¸Šæ˜¯åŒæ­¥çš„ã€‚FMDatabaseQueueè¿™ä¹ˆè®¾è®¡çš„ç›®çš„æ˜¯è®©æˆ‘ä»¬é¿å…å‘ç”Ÿå¹¶å‘è®¿é—®æ•°æ®åº“çš„é—®é¢˜ï¼Œå› ä¸ºå¯¹æ•°æ®åº“çš„è®¿é—®å¯èƒ½æ˜¯éšæœºçš„ï¼ˆåœ¨ä»»ä½•æ—¶å€™ï¼‰ã€ä¸åŒçº¿ç¨‹é—´ï¼ˆä¸åŒçš„ç½‘ç»œå›è°ƒç­‰ï¼‰çš„è¯·æ±‚ã€‚å†…ç½®ä¸€ä¸ªSerialé˜Ÿåˆ—åï¼ŒFMDatabaseQueueå°±å˜æˆçº¿ç¨‹å®‰å…¨äº†ï¼Œæ‰€æœ‰çš„æ•°æ®åº“è®¿é—®éƒ½æ˜¯åŒæ­¥æ‰§è¡Œï¼Œè€Œä¸”è¿™æ¯”ä½¿ç”¨@synchronizedæˆ–NSLockè¦é«˜æ•ˆå¾—å¤šã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½†æ˜¯è¿™ä¹ˆä¸€æ¥å°±æœ‰äº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœåå°åœ¨æ‰§è¡Œå¤§é‡çš„æ›´æ–°ï¼Œè€Œä¸»çº¿ç¨‹ä¹Ÿéœ€è¦è®¿é—®æ•°æ®åº“ï¼Œè™½ç„¶è¦è®¿é—®çš„æ•°æ®é‡å¾ˆå°‘ï¼Œä½†æ˜¯åœ¨åå°æ‰§è¡Œå®Œä¹‹å‰ï¼Œè¿˜æ˜¯ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¼•ç”¨è¿™ç¯‡&lt;a href=&quot;http://blog.csdn.net/zhangao0086/article/details/44223007&quot;&gt;æ–‡ç« &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Over~~ æ´—æ¾¡ç¡è§‰ğŸ˜´ğŸ˜´ğŸ˜´&lt;/p&gt;
</description>
        <pubDate>Sat, 03 Dec 2016 23:24:03 +0800</pubDate>
        <link>http://localhost:4000/2016/12/FMDB%E6%95%B4%E7%90%86%E6%80%BB%E7%BB%93/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/12/FMDB%E6%95%B4%E7%90%86%E6%80%BB%E7%BB%93/</guid>
        
        <category>FMDB</category>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>Doesn't include the currently selected device </title>
        <description>&lt;p&gt;æ˜¨æ™šæŠŠä¸€ç›´æƒ³ä¹°çš„iPad mini4ç»™æ‹¿ä¸‹äº†ï¼Œæ™šä¸Š11.34ä¸‹çš„å• ç¬¬äºŒå¤©çš„3.30å°±æ‹¿åˆ°äº†ï¼Œäº¬ä¸œçœŸæ˜¯å¿«ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ¥ä¸€å¤©éƒ½åœ¨å¼„æ–‡ä»¶ä¸‹è½½ï¼Œæ–­ç‚¹ä¸‹è½½è¿›åº¦æ¡å¤šçº¿ç¨‹ä¹‹ç±»çš„äº‹æƒ…ï¼Œè€å¤§è¯´æŠŠæˆ‘ä»¬app RUN åˆ°iPadä¸Šçœ‹çœ‹ã€‚Räº†ä¸€ä¸‹bulidå¤±è´¥äº†ã€‚é”™è¯¯ä¿¡æ¯&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Provisioning profile â€œmatch Development com.XXX.YYYâ€ doesnâ€™t include the currently selected device â€œXXXâ€.
Code signing is required for product type â€˜Applicationâ€™ in SDK â€˜iOS 10.0â€™&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Xcodeå·²ç»æ˜¯æœ€æ–°çš„äº†ï¼ŒiPadæ˜¯10.0.1ç»å¯¹æ˜¯æ²¡é—®é¢˜çš„åº”è¯¥ã€‚äºæ˜¯Googleäº†ä¸€ä¸‹ã€‚æ‰¾åˆ°äº†è¿™ä¸ªè§£ç­”&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/39426287/xcode-8-cannot-run-on-device-provisioning-profile-problems-mentioning-apple-wat&quot;&gt;Xcode 8 cannot run on device, provisioning profile problems mentioning Apple Watch&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Answer&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;I had the same issue today - XCode Version 8.0 (8A218a) - and fixed it with two simple steps (instead of the more complicated approach above:&lt;/p&gt;

  &lt;ol&gt;
    &lt;li&gt;add the Apple Watch to member center (did not find a copy&amp;amp;paste option either)&lt;/li&gt;
    &lt;li&gt;edit the development provisioning profile and add the watch to devices, save&lt;/li&gt;
    &lt;li&gt;go to XCode prefs, move the old provisioning profile to trash (right click on the name) and download the new version&lt;/li&gt;
    &lt;li&gt;set the new provisioning profile in project editor
No restart, clean or anything else needed. Worked like a charm&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;p&gt;éœ€è¦åœ¨æè¿°æ–‡ä»¶æ·»åŠ è®¾å¤‡çš„UDID&lt;/p&gt;

&lt;p&gt;UDIDå¯ä»¥é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;iTunes&lt;/code&gt; æ‹¿åˆ°ã€‚
&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161130-0@2x.png&quot; alt=&quot;&quot; /&gt;
&lt;strong&gt;å¦‚æœçœ‹ä¸åˆ°UDIDå¤šç‚¹å‡ ä¸‹æˆ‘æŠ¹çº¢çš„åœ°æ–¹å°±è¡Œäº†&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ‹¿åˆ°è¿™ä¸ªUDID ç™»å½•åˆ° &lt;a href=&quot;https://developer.apple.com&quot;&gt;è‹¹æœå¼€å‘è€…ä¸­å¿ƒ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç™»å½•è´¦å·å æ‰¾åˆ°&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161130-2@2x.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶å&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161130-3@2x.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161130-4@2x.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æœ€å¥½åœ¨æè¿°æ–‡ä»¶æ·»åŠ è¿™ä¸ªè®¾å¤‡&lt;/p&gt;

&lt;p&gt;ç‚¹ &lt;strong&gt;edit&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161130-1@2x.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Select All&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161130-5@2x.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Generate&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å†å»xcode é‡æ–°ä¸‹è½½ä¸€ä¸‹æè¿°æ–‡ä»¶ clean ä¸€ä¸‹å°±OKäº†&lt;/p&gt;

</description>
        <pubDate>Wed, 30 Nov 2016 20:00:03 +0800</pubDate>
        <link>http://localhost:4000/2016/11/Doesn't-include-the-currently-selected-devic/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/11/Doesn't-include-the-currently-selected-devic/</guid>
        
        <category>iPad</category>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>æˆ‘çš„åšå®¢æ˜¯å¦‚ä½•æ­å»ºçš„</title>
        <description>&lt;p&gt;æ‹¥æœ‰è‡ªå·±çš„åšå®¢è¿˜æ˜¯ä¸€ä»¶å¾ˆå¼€å¿ƒçš„äº‹æƒ…ï¼Œå“ªæ€•æ²¡æœ‰ä»€ä¹ˆäººæ¥çœ‹ã€‚ä¹Ÿæ˜¯å¯¹è‡ªå·±æˆé•¿çš„è®°å½•ã€‚æ¥è¯´è¯´å¦‚ä½•æ­å»ºå§ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;é¦–å…ˆä½ éœ€è¦äº†è§£ &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt; ä»“åº“æ‰˜ç®¡ å’Œ &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt; çš„ç›¸å…³å†…å®¹&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;ä¸éœ€è¦ä¹°æœåŠ¡å™¨éƒ¨ç½²æ­å»ºç¯å¢ƒç­‰ç­‰&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ä¸éœ€è¦è´­ä¹°åŸŸåå’Œå¤‡æ¡ˆ&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å¾ˆå¿«çš„ä¸Šæ‰‹&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;section&quot;&gt;åŸç†&lt;/h3&gt;

&lt;p&gt;Jekyll æ˜¯ä¸€ä¸ªç®€å•çš„åšå®¢å½¢æ€çš„é™æ€ç«™ç‚¹ç”Ÿäº§æœºå™¨ã€‚å®ƒæœ‰ä¸€ä¸ªæ¨¡ç‰ˆç›®å½•ï¼Œå…¶ä¸­åŒ…å«åŸå§‹æ–‡æœ¬æ ¼å¼çš„æ–‡æ¡£ï¼Œé€šè¿‡ Markdown ï¼ˆæˆ–è€… Textileï¼‰ ä»¥åŠ Liquid è½¬åŒ–æˆä¸€ä¸ªå®Œæ•´çš„å¯å‘å¸ƒçš„é™æ€ç½‘ç«™ï¼Œä½ å¯ä»¥å‘å¸ƒåœ¨ä»»ä½•ä½ å–œçˆ±çš„æœåŠ¡å™¨ä¸Šã€‚Jekyll ä¹Ÿå¯ä»¥è¿è¡Œåœ¨ GitHub Pages ä¸Šã€‚æ¥ä¸‹åœ¨è‡ªå·±çš„ç”µè„‘æ­å»ºä¸€ä¸ªæµ‹è¯•ç¯å¢ƒå§ ğŸ˜ğŸ˜ğŸ˜&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;jekyll&quot;&gt;å®‰è£… jekyll&lt;/h3&gt;

&lt;p&gt;éœ€è¦æœ¬æœºçš„ç¯å¢ƒ Git ç¯å¢ƒï¼ˆç”¨äºéƒ¨ç½²åˆ°è¿œç«¯ï¼‰ã€Ruby ç¯å¢ƒï¼ˆJekyll æ˜¯åŸºäº Ruby å¼€å‘çš„ï¼‰ã€åŒ…ç®¡ç†å™¨ &lt;a href=&quot;https://gems.ruby-china.org/&quot;&gt;RubyGems&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç”±äºæˆ‘æ˜¯MacOSç³»ç»Ÿæ‰€ä»¥å°±ä¸éœ€è¦äº† éœ€è¦å®‰è£…Xcode å’Œ å‘½ä»¤è¡Œå·¥å…·å°±è¡Œäº†&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xcode-select --install 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;http://www.ruby-lang.org/zh_cn/documentation/installation/#building-from-source&quot;&gt;å®‰è£…Ruby&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æ¨èä¸€ä¸ªgitç®¡ç†é¡¹ç›®çš„å·¥å…· å¯èƒ½éœ€è¦ç™»å½•è´¦æˆ·æ³¨å†Œ æ‰€ä»¥ ç¿»å‡ºå»å§  = =&lt;/p&gt;

&lt;p&gt;ä¸ç”¨ç¿»å¢™è®¿é—®&lt;a href=&quot;https://www.google.com.hk/&quot;&gt;Google&lt;/a&gt;ç­‰ç­‰ ä¿®æ”¹&lt;a href=&quot;https://github.com/racaljk/hosts&quot;&gt;hosts&lt;/a&gt;çš„æ–¹æ³•&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://oh6uhie7j.bkt.clouddn.com/SourceTree_2.3.1.zip&quot;&gt;SourceTree&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç¯å¢ƒéƒ½å·²ç»å…·å¤‡åå®‰è£…&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install jekyll 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;åˆ›å»ºä½ çš„åšå®¢æ‰€åœ¨æ–‡ä»¶å¤¹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jekyll new myBlog    
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¿›å…¥åšå®¢æ–‡ä»¶å¤¹çš„ç›®å½•&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cd yourBlogFolder
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¯åŠ¨jekyllæœåŠ¡&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jekyll server
æˆ–è€…
jekyll serve
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;åœ¨ Chrome æµè§ˆå™¨ è¾“å…¥ &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;http://127.0.0.1:4000&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-0.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å®‰è£…å®Œæˆäº†ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;jekyll-1&quot;&gt;é…ç½®jekyll&lt;/h3&gt;

&lt;p&gt;jekyllæ˜¯é€šè¿‡ç›®å½•ä¸‹é¢çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;é…ç½®çš„&lt;/p&gt;

&lt;p&gt;jekyll &lt;a href=&quot;http://jekyll.com.cn/&quot;&gt;æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘åšå®¢&lt;a href=&quot;https://github.com/lxcsjk/lxcsjk.github.io&quot;&gt;ä¸»é¢˜&lt;/a&gt; fork æ˜¯ è¿™ä½å¤§ç¥&lt;a href=&quot;http://baixin.io/&quot;&gt;æ½˜æŸä¿¡&lt;/a&gt;çš„ &lt;a href=&quot;https://github.com/leopardpan/leopardpan.github.io&quot;&gt;ä»“åº“&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä½ ä¸‹è½½ä¸»é¢˜å è¿›å…¥åˆ°æ–‡ä»¶å¤¹ å…ˆå®‰è£…ä¸€ä¸‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;bundler&lt;/code&gt;  å‘½ä»¤&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gem install bundler&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Fetching: bundler-1.13.5.gem (100%)
Successfully installed bundler-1.13.5
Parsing documentation for bundler-1.13.5
Installing ri documentation for bundler-1.13.5
Done installing documentation for bundler after 5 seconds
1 gem installed
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸ç„¶ä¼šæŠ¥é”™&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/Users/lxc/.rvm/rubies/ruby-2.2.2/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- bundler (LoadError)
	from /Users/xxxxxxxx/.rvm/rubies/ruby-2.2.2/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'
	from /Users/xxxxxxxx/.rvm/gems/ruby-2.2.2/gems/jekyll-3.3.0/lib/jekyll/plugin_manager.rb:34:in `require_from_bundler'
	from /Users/xxxxxxxx/.rvm/gems/ruby-2.2.2/gems/jekyll-3.3.0/exe/jekyll:9:in `&amp;lt;top (required)&amp;gt;'
	from /Users/xxxxxxxx/.rvm/gems/ruby-2.2.2/bin/jekyll:23:in `load'
	from /Users/xxxxxxxx/.rvm/gems/ruby-2.2.2/bin/jekyll:23:in `&amp;lt;main&amp;gt;'
	from /Users/xxxxxxxx/.rvm/gems/ruby-2.2.2/bin/ruby_executable_hooks:15:in `eval'
	from /Users/xxxxxxxx/.rvm/gems/ruby-2.2.2/bin/ruby_executable_hooks:15:in `&amp;lt;main&amp;gt;'
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ç„¶åæ‰§è¡Œ ä¹‹å‰è®°å¾—ä¿®æ”¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;gem&lt;/code&gt; çš„é•œåƒæº&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bundle install
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ›´æ–° &lt;code class=&quot;highlighter-rouge&quot;&gt;gem&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gem update --system # è¿™é‡Œè¯·ç¿»å¢™ä¸€ä¸‹
$ gem -v
2.6.3

$ gem sources --add https://gems.ruby-china.org/ --remove https://rubygems.org/
$ gem sources -l
https://gems.ruby-china.org
# ç¡®ä¿åªæœ‰ gems.ruby-china.org

$ bundle config mirror.https://rubygems.org https://gems.ruby-china.org
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ç„¶åå¦‚æœæŠ¥é”™ ç¼ºå°‘ä»€ä¹ˆå®‰è£…ä»€ä¹ˆåŒ…å°±è¡Œäº†&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install jekyll-paginate
gem install jekyll-sitemap
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æœ€å&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Configuration file: /data/static/img/yourBlog/_config.yml
Configuration file: /data/static/img/yourBlog/_config.yml
            Source: /data/static/img/yourBlog
       Destination: /data/static/img/yourBlog/_site
 Incremental build: disabled. Enable with --incremental
      Generating... 
                    done in 0.475 seconds.
 Auto-regeneration: enabled for '/data/static/img/yourBlog'
Configuration file: /data/static/img/yourBlog/_config.yml
    Server address: http://127.0.0.1:4000/
  Server running... press ctrl-c to stop.
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ‰“å¼€æµè§ˆå™¨è¾“å…¥ &lt;a href=&quot;http://127.0.0.1:4000/&quot;&gt;http://127.0.0.1:4000/&lt;/a&gt; å°±OKå•¦&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-1&quot;&gt;åŠ å…¥ç¬¬ä¸‰æ–¹çš„ç¤¾ä¼šåŒ–å·¥å…·&lt;/h3&gt;

&lt;p&gt;Disqus å·²ç»è¢«å¢™äº† So ç”¨å›½å†…çš„å§ &lt;a href=&quot;http://duoshuo.com/&quot;&gt;å¤šè¯´&lt;/a&gt;å°±æŒºå¥½çš„ 
æŠŠå¤šè¯´ä»£ç ç‰‡æ®µå¤åˆ¶åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts&lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;post.html&lt;/code&gt;æ–‡ä»¶å†…çš„&lt;code class=&quot;highlighter-rouge&quot;&gt; &amp;lt;/article&amp;gt;&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;/div&amp;gt;&lt;/code&gt;æ ‡ç­¾ä¹‹é—´å³å¯&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-2&quot;&gt;åŠ å…¥ç»Ÿè®¡ä¹‹ç±»çš„ä»£ç &lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://analytics.google.com/&quot;&gt;Google Analytics&lt;/a&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;ç”¨googleçš„éœ€è¦æ”¹hosts ä¸Šé¢æœ‰æåˆ°æ–¹æ³•&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://tongji.baidu.com/&quot;&gt;ç™¾åº¦ç»Ÿè®¡&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;é€‰æ‹©ä¸€ä¸ª&lt;/p&gt;

&lt;p&gt;å¤åˆ¶åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;default.html&lt;/code&gt; æ–‡ä»¶å†…çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt;æ ‡ç­¾ä¹‹ä¸Šå³å¯ã€‚ å½“ç„¶ä¹Ÿå¯ä»¥åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;é…ç½®&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;section-3&quot;&gt;ç”³è¯·è‡ªå·±çš„åŸŸå&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;è¿™ä¸€æ­¥ä¹‹å‰å¾—å°†ä½ æœ¬åœ°åšå®¢æ‰€ä»¥æ–‡ä»¶é€šè¿‡ GitHub Desktop æäº¤åˆ°ä½ çš„GITHub Pagesä»“åº“&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ç”±äº  &lt;code class=&quot;highlighter-rouge&quot;&gt;GitHub Pages&lt;/code&gt; æ—¶å¸¸ä¸èƒ½è®¿é—® åŸå› æ˜¯ TCçš„å¤§ç‚®æ”»å‡»&lt;a href=&quot;https://github.com&quot;&gt;Github&lt;/a&gt;æ‰€è‡´ æ‰€ä»¥æœ€å¥½è‡ªå·±æ·»åŠ ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;CNAME&lt;/code&gt;  é‚£ä¹ˆé—®é¢˜æ¥äº†åŸŸåä»å“ªé‡Œæ¥å‘¢ã€‚ Soâ€¦  Come on!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://my.freenom.com&quot;&gt;æˆ³è¿™é‡Œ&lt;/a&gt;
å¯ä»¥ç”³è¯· å…è´¹åŸŸååªæœ‰  &lt;code class=&quot;highlighter-rouge&quot;&gt;[.tk .ml .ga .cf .gq]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://my.freenom.com/domains.php&quot;&gt;æŸ¥è¯¢ä¸€ä¸ªä½ æƒ³è¦çš„åŸŸå&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç‚¹å‡» é€‰æ‹©ä¸€ä¸ª ç¬¬ä¸€ä¸ªå·²ç»æœ‰äººç”¨äº† é‚£å°±æ˜¯æˆ‘ = =&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶å checkout&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;é€‰æ‹©æ—¶é—´&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-5.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¡«å†™ä¿¡æ¯&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-6.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç‚¹å‡» My Domains&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-7.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;çœ‹ä½ çš„åŸŸååˆ—è¡¨&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-8.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æˆåŠŸäº†~&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;cname&quot;&gt;æ·»åŠ CNAMEæ–‡ä»¶&lt;/h3&gt;

&lt;p&gt;åœ¨ä½ çš„github pagesé¡¹ç›®æ ¹ç›®å½•ä¸Šæ–°å»ºä¸€ä¸ªCNAMEæ–‡ä»¶ï¼Œåœ¨CNAMEæ–‡ä»¶ä¸Šç¼–è¾‘åˆšæ‰ç”³è¯·åˆ°çš„åŸŸåï¼Œæ¯”å¦‚ yoruo.tk ï¼Œé‚£ä¹ˆæˆ‘å°±å†™ä¸Š yoruo.tk (æ¨è)ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å†™ www.yoruo.tk ï¼Œä¸¤ç§å†™æ³•å¤„ç†æ–¹å¼ä¸åŒï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å¦‚æœä½ å†™çš„æ˜¯ yoruo.tk ï¼Œé‚£ä¹ˆ www.yoruo.tk å°±ä¼šæŒ‡å‘ yoruo.tk&lt;/li&gt;
  &lt;li&gt;å¦‚æœä½ å†™çš„æ˜¯ www.yoruo.tk k ,é‚£ä¹ˆ yoruo.tk å°±ä¼šæŒ‡å‘ www.yoruo.tk&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ³¨æ„ï¼Œä¸¤ç§å†™æ³•éƒ½ä¸éœ€è¦åœ¨å‰é¢åŠ  http ã€‚&lt;/p&gt;

&lt;p&gt;å¼•ç”¨è¿™ç¯‡ &lt;a href=&quot;http://www.tuicool.com/articles/NrUrY33&quot;&gt;æ–‡ç« &lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;dnspoda&quot;&gt;åœ¨DNSPodæ·»åŠ Aè®°å½•&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ç„¶åè¿›å…¥ç®¡ç†ä¸­å¿ƒï¼Œé€‰æ‹©æ·»åŠ åŸŸåã€‚&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-9.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ä¸ºåŸŸåæ·»åŠ è®°å½•ï¼Œè¿™é‡Œçš„NSè®°å½•æ˜¯è‡ªåŠ¨ç”Ÿæˆï¼Œä¸ç”¨ä¿®æ”¹ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦æˆ‘ä»¬çš„ç½‘ç«™å¯ä»¥é€šè¿‡ yoruo.tk å’Œ www.yoruo.tk éƒ½èƒ½è®¿é—®ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ ä¸¤ç»„Aè®°å½•ã€‚&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-10.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆ  &lt;code class=&quot;highlighter-rouge&quot;&gt; 192.30.252.153&lt;/code&gt;  å’Œ  &lt;code class=&quot;highlighter-rouge&quot;&gt; 192.30.252.154 &lt;/code&gt; ï¼Œå› ä¸ºè¿™æ˜¯github pageså®˜ç½‘è¯´çš„å’¯ã€‚ç½‘ä¸Šæœ‰äº›äººè¯´Aè®°å½•æ˜¯ ping xxx.github.io ä¹‹åçš„IPåœ°å€ï¼Œè¿™äº›éƒ½æ˜¯ä¸å¯ä¿¡çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ä½ å¯èƒ½ä¼šå¥‡æ€ªï¼Œæ¯ä¸ªäººéƒ½æ˜¯è¿™ä¸¤ä¸ªIPåœ°å€çš„è¯ï¼Œé‚£ä¹ˆGithubæ€ä¹ˆçŸ¥é“æˆ‘çš„åŸŸå yoruo.tk å’Œ www.yoruo.tk å¯¹åº”çš„æ˜¯ lxcsjk.github.io è€Œä¸æ˜¯å…¶ä»–äººçš„github pageså‘¢ï¼Ÿç­”æ¡ˆå°±åœ¨ä¸Šä¸€æ­¥æ“ä½œä¸­çš„CNAMEæ–‡ä»¶ï¼Œè¿™é‡ŒæŒ‡å®šäº†å…¶æ‰€å¯¹åº”çš„åŸŸåï¼Œgithubä¼šè‡ªåŠ¨å¤„ç†ï¼Œå°†ä¸¤è€…å¯¹åº”èµ·æ¥ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–ï¼Œå¦‚æœä½ æ·»åŠ CNAMEè®°å½•æŠŠåŸŸåæŒ‡å‘ xxx.github.io çš„è¯ï¼Œä¹Ÿä¼šæˆåŠŸ(ç½‘ä¸ŠæŸäº›æ•™ç¨‹å°±æ˜¯è¿™ä¹ˆåšçš„)ã€‚ä½†æ˜¯å®˜æ–¹æ˜¯ä¸æ¨èæœ€ç»ˆåšæ³•çš„ï¼Œå› ä¸ºå¯èƒ½ä¼šâ€å¯¼è‡´å…¶ä»–æœåŠ¡å‡ºç°é—®é¢˜â€ã€‚&lt;/p&gt;

&lt;p&gt;å¼•ç”¨è¿™ç¯‡ &lt;a href=&quot;http://www.tuicool.com/articles/NrUrY33&quot;&gt;æ–‡ç« &lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;dns&quot;&gt;ä¿®æ”¹åŸŸåçš„DNS&lt;/h3&gt;

&lt;p&gt;åˆ°&lt;a href=&quot;https://my.freenom.com/clientarea.php?action=domains&quot;&gt;åŸŸåæ³¨å†Œç½‘ç«™&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-11.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶å 
&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-13.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¡«ä¸Š DNSPod çš„DNSåœ°å€ ç­‰å¾…DNSæœåŠ¡å™¨åˆ·æ–° åº”è¯¥å¾ˆå¿« æˆ‘å½“æ—¶å‡ åˆ†é’Ÿå°±å¥½äº†&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161127-14.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶åæ‰“å¼€ä½ çš„åšå®¢ å¼€å§‹ä¹¦å†™æ‰€è§æ‰€æƒ³å§ã€‚&lt;/p&gt;
</description>
        <pubDate>Sun, 27 Nov 2016 20:40:03 +0800</pubDate>
        <link>http://localhost:4000/2016/11/%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%98%AF%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E7%9A%84/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/11/%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%98%AF%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E7%9A%84/</guid>
        
        <category>åšå®¢</category>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>h5ä¸Šä¼ å›¾ç‰‡å‹ç¼©åŒ…æœåŠ¡ç«¯è§£å‹å¹¶ä¸Šä¼ å›¾ç‰‡</title>
        <description>&lt;p&gt;CMSåå°æœ‰ä¸Šä¼ å¤šä¸ªå›¾ç‰‡çš„éœ€æ±‚ï¼Œå¤šä¸ªå›¾ç‰‡ä¸Šä¼ ä¹Ÿä¸€æ ·éº»çƒ¦ã€‚å°±æƒ³åšä¸ªä¸Šä¼ å‹ç¼©åŒ…æœåŠ¡ç«¯è§£å‹ä¸Šä¼ çš„ä¸œè¥¿ã€‚&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;é¡µé¢&lt;/h3&gt;

&lt;p&gt;ä½¿ç”¨h5çš„ä¸Šä¼ api&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; 	  /*
             *
             * name: ä¸Šä¼ å­—æ®µæ ‡ç¤º
             postUrl: æ–‡ä»¶æ•°æ®å¤„ç†URL
             onClientAbort: è¯»å–æ“ä½œç»ˆæ­¢æ—¶è°ƒç”¨
             onClientError: å‡ºé”™æ—¶è°ƒç”¨
             onClientLoad: è¯»å–æ“ä½œæˆåŠŸæ—¶è°ƒç”¨
             onClientLoadEnd: æ— è®ºæ˜¯å¦æˆåŠŸï¼Œè¯»å–å®Œæˆæ—¶è°ƒç”¨ã€‚é€šå¸¸åœ¨onloadå’Œonerroråè°ƒç”¨
             onClientLoadStart: è¯»å–å°†è¦å¼€å§‹æ—¶è°ƒç”¨
             onClientProgress: æ•°æ®åœ¨è¯»å–è¿‡ç¨‹ä¸­å‘¨æœŸæ€§è°ƒç”¨
             onServerAbort: postæ“ä½œç»“æŸæ—¶è°ƒç”¨
             onServerError: é”™è¯¯å‘ç”Ÿæ—¶è°ƒç”¨
             onServerLoad: postæ“ä½œæˆåŠŸæ—¶è°ƒç”¨
             onServerLoadStart: postæ•°æ®å°†è¦å¼€å§‹æ—¶è°ƒç”¨
             onServerProgress: æ•°æ®æ­£åœ¨è¢«postçš„è¿‡ç¨‹ä¸­å‘¨æœŸæ€§è°ƒç”¨
             onServerReadyStateChange: ä¸€ä¸ªjavascriptåŠŸèƒ½å¯¹è±¡æ— è®ºä»»ä½•æ—¶å€™readyStateå±æ€§å˜åŒ–æ—¶è°ƒç”¨ã€‚callbackç”±ç”¨æˆ·ç•Œé¢ç°æˆè°ƒç”¨ã€‚
             *
             *
             * */

            $(&quot;#uploadZip&quot;).html5Uploader({
                url: &quot;rest/material/uploadZip&quot;,
                onSuccess: function (e, file, response) {
                    var res = JSON.parse(response);
                    if (res == &quot;200&quot;) {
                        $.sticky(&quot;å·²ç»æˆåŠŸä¸Šä¼ å¹¶ä¸”å­˜å…¥åŸå§‹ç´ æåº“ï¼&quot;);
                        swal(&quot;SUCCESS!&quot;, &quot;å·²ç»æˆåŠŸä¸Šä¼ å¹¶ä¸”å­˜å…¥åŸå§‹ç´ æåº“ï¼&quot;, &quot;success&quot;);
                    } else {
                        $.sticky(&quot;å‹ç¼©æ ¼å¼é”™è¯¯æˆ–å‹ç¼©è¿‡ç¨‹å‡ºç°é”™è¯¯&quot;);
                        swal(&quot;OMG!&quot;, &quot;å‹ç¼©åŒ…æœ‰é”™è¯¯è¯·é‡æ–°å‹ç¼©å¹¶é‡æ–°ä¸Šä¼  = = ï¼ï¼ï¼&quot;, &quot;error&quot;);
                    }
                },
                onClientLoad: function () {
                    $.sticky(&quot;æ–‡ä»¶è¯»å–æˆåŠŸ! ! !&quot;);
                },
                onClientLoadEnd: function () {
                    $.sticky(&quot;æ–‡ä»¶ä¸Šä¼ å®Œæˆ! ! !&quot;);
                },
                onClientLoadStart: function () {
                    $.sticky(&quot;æ–‡ä»¶å°†è¦å¼€å§‹è¯»å–! ! !&quot;);
                },
                onClientProgress: function () {

                },
                onServerError: function () {
                    console.log(11111111 + &quot;========&quot;)
                },
                onServerProgress: function () {
                    $.sticky(&quot;æ–‡ä»¶æ­£åœ¨ä¸Šä¼ ! ! !&quot;);
                }
            });

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;ç”¨äº†ä¸€äº›ç¾åŒ–è¿‡çš„å¼¹çª—æ§ä»¶&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.dglives.com/demo/sweetalert-master/example/&quot;&gt;SweetAlert&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å¼•å…¥jså°±è¡Œäº†ã€‚&lt;/p&gt;

&lt;p&gt;åå°æ¨¡æ¿ä¹‹å‰å¸¸ç”¨&lt;a href=&quot;https://github.com/bopoda/ace&quot;&gt;ACE&lt;/a&gt;çš„ã€‚
æ‰£ä¸‹æ¥æ”¹å§æ”¹å§ã€‚&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;æœåŠ¡ç«¯&lt;/h3&gt;

&lt;p&gt;æœåŠ¡ç«¯ç”¨çš„Javaå†™çš„ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
    @Transactional
    @RequestMapping(value = &quot;uploadZip&quot;, method = RequestMethod.POST)
    public Map&amp;lt;String, Object&amp;gt; uploadZip(HttpServletRequest request) throws Exception {

        Map&amp;lt;String, Object&amp;gt; result = new HashMap&amp;lt;&amp;gt;();
        User user = GrantedFilter.threadLocal.get();
        final Integer userId = user.getId();

        Uploader uploader = new Uploader(request);
        // è§£å‹
        final File[] fileList = uploader.uploadMaterialZip();
        // æœ‰æ—¶å€™å‹ç¼©ä¼šå‡ºé—®é¢˜  Mac å’Œ Windows 
        if (fileList.length &amp;lt; 1 || fileList.length&amp;gt;1?fileList[1].isDirectory():fileList[0].isDirectory()) {
            File f = null;
            try {
                f = new File(fileList[0].getParent());
                deleteFile(f);
            } catch (Exception e) {

            }
            result.put(&quot;code&quot;, &quot;400&quot;);
            return result;
        } else {
            threadPoolTaskExecutor.execute(new Runnable() {
                @Override
                public void run() {
                    String temp = fileList[0].getParent();
                    for (File file : fileList) {
                        if (file.getName().endsWith(&quot;.gif&quot;)||file.getName().endsWith(&quot;.GIF&quot;)) {
                            UFileRequest uFileRequest = new UFileRequest();
                            String gifKey = RandomStringUtils.randomAlphanumeric(32) + &quot;.gif&quot;;
                            uFileRequest.setBucketName(SysConfigDao.getValue(SysConfig.otherConfig, &quot;ufile_bucket&quot;));
                            uFileRequest.setFilePath(file.getPath());
                            uFileRequest.setKey(gifKey);
                            uFileAPI.putFile(uFileRequest);
                            String url = uFileAPI.getDownloadUrl(uFileRequest, 0, false);
                            MaterialRaw materialRaw = new MaterialRaw();
                            materialRaw.setTag(&quot;3&quot;);
                            materialRaw.setGifurl(url);
                            materialRaw.setCreateAt(new Date());
                            materialRaw.setStatus(&quot;t&quot;);
                            materialRaw.setChannl(&quot;r&quot;);
                            try {
                                materialRaw.setMd5(MD5Util.getMd5ByFile(file));
                            } catch (FileNotFoundException e) {
                                e.printStackTrace();
                            }
                            materialRaw.setSize((int) file.length());
                            materialRaw.setCreateBy(userId);
                            try {
                                materialRaw.setTitle(file.getName().substring(0, file.getName().lastIndexOf(&quot;.gif&quot;)));
                            } catch (Exception e) {
                                materialRaw.setTitle(file.getName().substring(0, file.getName().lastIndexOf(&quot;.GIF&quot;)));
                            }
                            materialRawDao.save(materialRaw);
                        }
                        file.delete();
                    }
                    File f = new File(temp);
                    deleteFile(f);
                }
            });
        }
        result.put(&quot;code&quot;, &quot;200&quot;);
        return result;
    }


&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è§£å‹çš„Utilç±»&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    public File[] uploadMaterialZip() throws Exception {
        originalName = request.getHeader(&quot;X-File-Name&quot;);
        type = FileUtil.getFileExt(originalName);
        if (!&quot;.zip&quot;.equals(type.toLowerCase())) {
            throw new BadRequestException(&quot;æ ¼å¼é”™è¯¯ï¼&quot;);
        }
        if (request.getContentLength() / 1024000 &amp;gt; 100) {
            throw new BadRequestException(&quot;æ–‡ä»¶å¤ªå¤§ï¼&quot;);
        }
        fileName = Util.RunTimeSequence() + type;
        path = DateUtil.zipDateFormat(new Date()) + File.separator + fileName;
        File file = new File(savePath + File.separator + path);
        file.getParentFile().mkdirs();
        try (InputStream is = request.getInputStream();
             FileOutputStream fos = new FileOutputStream(file)) {
            IOUtils.copy(is, fos);
            size = file.length();
        }
        String str = savePath + File.separator + System.currentTimeMillis();
        File dir = new File(str);
        if (!dir.exists() || !dir.isDirectory()) {
            dir.mkdirs();
        }
        String temp = savePath + File.separator + DateUtil.zipDateFormat(new Date()) + File.separator;
        // åŠ å‹çš„å·¥å…·ç±»
        DeCompressUtil.deCompress(savePath + File.separator + path, str, temp);
        File gifFile = new File(str);
        File[] fileList = gifFile.listFiles();
        if (fileList.length&amp;lt;1){
            gifFile.delete();
        }
        return fileList;
    }

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è§£å‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package com.an.core.utils.zip;

import com.an.core.exception.BadRequestException;
import de.innosystec.unrar.Archive;
import de.innosystec.unrar.rarfile.FileHeader;
import org.apache.tools.ant.Project;
import org.apache.tools.ant.taskdefs.Expand;

import java.io.File;
import java.io.FileOutputStream;

public class DeCompressUtil {
    /**
     * è§£å‹zipæ ¼å¼å‹ç¼©åŒ…
     * å¯¹åº”çš„æ˜¯ant.jar
     */
    private static void unzip(String sourceZip, String destDir, String temp) throws Exception {
        try {
            Project p = new Project();
            Expand e = new Expand();
            e.setProject(p);
            e.setSrc(new File(sourceZip));
            e.setOverwrite(false);
            e.setDest(new File(destDir));
           /*
           antä¸‹çš„zipå·¥å…·é»˜è®¤å‹ç¼©ç¼–ç ä¸ºUTF-8ç¼–ç ï¼Œ
           è€ŒwinRARè½¯ä»¶å‹ç¼©æ˜¯ç”¨çš„windowsé»˜è®¤çš„GBKæˆ–è€…GB2312ç¼–ç 
           æ‰€ä»¥è§£å‹ç¼©æ—¶è¦åˆ¶å®šç¼–ç æ ¼å¼
           */

            try {
                e.setEncoding(&quot;GBK&quot;);
                e.execute();
            } catch (Exception e1) {
                e.setEncoding(&quot;UTF-8&quot;);
                e.execute();
            }
            File zipFile = new File(sourceZip);
            File zipPath = new File(temp);
            zipFile.delete();
            zipPath.delete();

        } catch (Exception e) {
            throw new BadRequestException(e);
        }
    }

    /**
     * è§£å‹raræ ¼å¼å‹ç¼©åŒ…ã€‚
     * å¯¹åº”çš„æ˜¯java-unrar-0.3.jarï¼Œä½†æ˜¯java-unrar-0.3.jaråˆä¼šç”¨åˆ°commons-logging-1.1.1.jar
     */
    private static void unrar(String sourceRar, String destDir, String temp) throws Exception {
        Archive a = null;
        FileOutputStream fos = null;
        try {
            a = new Archive(new File(sourceRar));
            FileHeader fh = a.nextFileHeader();
            while (fh != null) {
                if (!fh.isDirectory()) {
                    //1 æ ¹æ®ä¸åŒçš„æ“ä½œç³»ç»Ÿæ‹¿åˆ°ç›¸åº”çš„ destDirName å’Œ destFileName
                    String compressFileName = fh.getFileNameString().trim();
                    String destFileName = &quot;&quot;;
                    String destDirName = &quot;&quot;;
                    //éwindowsç³»ç»Ÿ
                    if (File.separator.equals(&quot;/&quot;)) {
                        destFileName = destDir + compressFileName.replaceAll(&quot;\\\\&quot;, &quot;/&quot;);
                        destDirName = destFileName.substring(0, destFileName.lastIndexOf(&quot;/&quot;));
                        //windowsç³»ç»Ÿ
                    } else {
                        destFileName = destDir + compressFileName.replaceAll(&quot;/&quot;, &quot;\\\\&quot;);
                        destDirName = destFileName.substring(0, destFileName.lastIndexOf(&quot;\\&quot;));
                    }
                    //2åˆ›å»ºæ–‡ä»¶å¤¹
                    File dir = new File(destDirName);
                    if (!dir.exists() || !dir.isDirectory()) {
                        dir.mkdirs();
                    }
                    //3è§£å‹ç¼©æ–‡ä»¶
                    fos = new FileOutputStream(new File(destFileName));
                    a.extractFile(fh, fos);
                    fos.close();
                    fos = null;
                }
                fh = a.nextFileHeader();
            }
            a.close();
            a = null;
        } catch (Exception e) {
            throw e;
        } finally {
            if (fos != null) {
                try {
                    fos.close();
                    fos = null;
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
            if (a != null) {
                try {
                    a.close();
                    a = null;
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        }
    }

    /**
     * è§£å‹ç¼©
     */
    public static void deCompress(String sourceFile, String destDir, String temp) throws Exception {
        //ä¿è¯æ–‡ä»¶å¤¹è·¯å¾„æœ€åæ˜¯&quot;/&quot;æˆ–è€…&quot;\&quot;
        char lastChar = destDir.charAt(destDir.length() - 1);
        if (lastChar != '/' &amp;amp;&amp;amp; lastChar != '\\') {
            destDir += File.separator;
        }
        //æ ¹æ®ç±»å‹ï¼Œè¿›è¡Œç›¸åº”çš„è§£å‹ç¼©
        String type = sourceFile.substring(sourceFile.lastIndexOf(&quot;.&quot;) + 1);
        if (!&quot;.zip&quot;.equals(type.toLowerCase())) {
            DeCompressUtil.unzip(sourceFile, destDir, temp);
        } else if (type.equals(&quot;rar&quot;)) {
            DeCompressUtil.unrar(sourceFile, destDir, temp);
        } else {

        }
    }
} 

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;åˆ é™¤æ–‡ä»¶å¤¹ä¸‹é¢çš„æ‰€æœ‰å†…å®¹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	/**
	 * åˆ é™¤æ–‡ä»¶å¤¹æ‰€æœ‰çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹
	 *
	 * @param file
     */
	public static void deleteFile(File file){
		if(file.isFile()){
			file.delete();
			return;
		}
		if(file.isDirectory()){
			File[] childFile = file.listFiles();
			if(childFile == null || childFile.length == 0){
				file.delete();
				return;
			}
			for(File f : childFile){
				RecursionDeleteFile(f);
			}
			file.delete();
		}
	}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¹‹å‰æœ‰æ‰¾è¿‡ä¸€ä¸ª&lt;a href=&quot;http://download.csdn.net/detail/clyao_123456/7624815&quot;&gt;Demo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://oh6uhie7j.bkt.clouddn.com/MyUpload.zip&quot;&gt;ä¸‹è½½é“¾æ¥&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ© ğŸ˜‚ğŸ˜‚ğŸ˜‚ã€‚&lt;/p&gt;

</description>
        <pubDate>Sun, 27 Nov 2016 19:40:03 +0800</pubDate>
        <link>http://localhost:4000/2016/11/H5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E5%8C%85,%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%A7%A3%E5%8E%8B%E4%B8%8A%E4%BC%A0/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/11/H5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E5%8C%85,%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%A7%A3%E5%8E%8B%E4%B8%8A%E4%BC%A0/</guid>
        
        <category>java</category>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>IDEA maven é¡¹ç›®æ‰“åŒ… jdkç‰ˆæœ¬é—®é¢˜</title>
        <description>&lt;p&gt;ä¹‹å‰åœ¨ä½¿ç”¨Mavenæ„å»ºçš„é¡¹ç›®ä¸­æ‰“åŒ…æ€»æ˜¯æŠ¥é”™ã€‚
æœ¬æœºæ˜¯  &lt;code class=&quot;highlighter-rouge&quot;&gt;jdk1.7.0_79&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æ‰“åŒ…ç¡®æ˜¯1.5&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆè¦åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;setting.xml&lt;/code&gt;  çš„  &lt;code class=&quot;highlighter-rouge&quot;&gt;profiles&lt;/code&gt;  èŠ‚ç‚¹ä¸­åŠ è¿™ä¹ˆä¸€æ®µé…ç½®&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt;profile&amp;gt; 
  &amp;lt;id&amp;gt;jdk17&amp;lt;/id&amp;gt;  
  &amp;lt;activation&amp;gt; 
    &amp;lt;activeByDefault&amp;gt;true&amp;lt;/activeByDefault&amp;gt;  
    &amp;lt;jdk&amp;gt;1.7&amp;lt;/jdk&amp;gt; 
  &amp;lt;/activation&amp;gt;  
  &amp;lt;properties&amp;gt; 
    &amp;lt;maven.compiler.source&amp;gt;1.7&amp;lt;/maven.compiler.source&amp;gt;  
    &amp;lt;maven.compiler.target&amp;gt;1.7&amp;lt;/maven.compiler.target&amp;gt;  
    &amp;lt;maven.compiler.compilerVersion&amp;gt;1.7&amp;lt;/maven.compiler.compilerVersion&amp;gt; 
  &amp;lt;/properties&amp;gt; 
&amp;lt;/profile&amp;gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;åœ¨IDEA å‹¾é€‰ä¸Šè¿™ä¸ª&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://oh6uhie7j.bkt.clouddn.com/QQ20161125-0.png&quot; alt=&quot;å‹¾é€‰&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å†æ‰§è¡Œç¼–è¯‘å³å¯&lt;/p&gt;

</description>
        <pubDate>Fri, 25 Nov 2016 15:48:03 +0800</pubDate>
        <link>http://localhost:4000/2016/11/maven%E6%89%93%E5%8C%85%E6%97%B6jdk%E7%89%88%E6%9C%AC%E9%94%99%E8%AF%AF/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/11/maven%E6%89%93%E5%8C%85%E6%97%B6jdk%E7%89%88%E6%9C%AC%E9%94%99%E8%AF%AF/</guid>
        
        <category>maven</category>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
  </channel>
</rss>
